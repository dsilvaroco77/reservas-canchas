<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UCTenis</title>

    <meta name="theme-color" content="#111111"/>
    <link rel="manifest" href="manifest.json">
    
    <style>
        :root {
            --background-color: #111;
            --text-color: #f5f5f7;
            --subtle-text-color: #a1a1a6;
            --accent-color: #007aff;
            --card-background: rgba(35, 35, 35, 0.5);
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; background-color: var(--background-color); color: var(--text-color); overflow-x: hidden; }
        .main-container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; animation: fadeIn 1s ease-out forwards; }
        header { text-align: center; margin-bottom: 60px; }
        header h1 { font-size: 48px; font-weight: 700; margin: 0; letter-spacing: -1px; }
        header .date-today { font-size: 18px; color: var(--subtle-text-color); font-weight: 500; margin-top: 8px; }
        .mobile-instruction { display: none; }
        .complex-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 50px; margin-bottom: 60px; }
        .complex-wrapper { text-align: center; }
        .complex-title { margin-bottom: 15px; }
        .complex-title h2 { font-size: 28px; font-weight: 600; margin: 0 0 5px 0; }
        .complex-title p { font-size: 16px; color: var(--subtle-text-color); margin: 0; }
        .complex-card { position: relative; width: 100%; padding-top: 60%; background-size: cover; background-position: center; border-radius: 24px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.1); }
        .clickable-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; z-index: 2; }
        .court-link-zone { flex: 1; height: 100%; transition: background-color 0.3s ease; display: flex; justify-content: center; align-items: center; text-decoration: none; }
        .court-link-zone:hover { background-color: rgba(255, 255, 255, 0.15); backdrop-filter: blur(2px); }
        .zone-text { color: white; font-size: 20px; font-weight: 700; text-shadow: 0 2px 8px rgba(0,0,0,0.9); text-align: center; padding: 10px; opacity: 0; transition: opacity 0.3s ease; pointer-events: none; }
        .court-link-zone:hover .zone-text { opacity: 1; }
        .info-section { background-color: var(--card-background); border-radius: 24px; padding: 30px; margin-bottom: 60px; }
        .section-title { font-size: 28px; font-weight: 600; margin-top: 0; margin-bottom: 5px; color: var(--text-color); }
        .smart-suggestion { font-size: 16px; color: var(--accent-color); font-weight: 500; margin-bottom: 25px; min-height: 24px;}
        .forecast-container { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 20px; }
        .forecast-container::-webkit-scrollbar { display: none; }
        .forecast-container { -ms-overflow-style: none; scrollbar-width: none; }
        .forecast-day { flex: 0 0 110px; background: rgba(30, 30, 30, 0.75); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 18px; padding: 15px; text-align: center; }
        .forecast-day span { display: block; font-size: 14px; font-weight: 500; margin-top: 5px; }
        .weather-icon-emoji { font-size: 36px; line-height: 1; margin: 8px 0; }
        footer { text-align: center; padding: 0 20px 40px; color: var(--subtle-text-color); }
        .tennis-message { font-size: 22px; font-style: italic; max-width: 700px; margin: 0 auto 30px; line-height: 1.5; }
        .footer-links a { color: var(--subtle-text-color); background-color: var(--card-background); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 10px 20px; text-decoration: none; margin: 0 10px; transition: color 0.3s, background-color 0.3s; }
        .footer-links a:hover { background-color: var(--accent-color); color: white; border-color: var(--accent-color); }
        .small-note { margin-top: 30px; font-size: 14px; max-width: 600px; margin-left: auto; margin-right: auto; line-height: 1.6; }
        @media (max-width: 768px) { .main-container { padding: 20px 15px; } header { margin-bottom: 40px; } header h1 { font-size: 36px; } header .date-today { font-size: 16px; } .mobile-instruction { display: block; text-align: center; color: var(--subtle-text-color); margin-bottom: 30px; font-style: italic; } .complex-grid { grid-template-columns: 1fr; gap: 40px;} .info-section { padding: 25px; } .section-title { font-size: 24px; } .tennis-message { font-size: 18px; } }
    </style>
</head>
<body>
    <div class="main-container">
        <header>
            <h1>Canchas de Tenis UCT</h1>
            <div class="date-today" id="dateToday"></div>
        </header>
        <main>
            <p class="mobile-instruction">Pincha en el lado de la cancha que deseas reservar.</p>
            <div class="complex-grid">
                <div class="complex-wrapper">
                    <div class="complex-title">
                        <h2>Complejo CEC</h2>
                        <p>Canchas de Arcilla</p>
                    </div>
                    <div class="complex-card" style="background-image: url('cec.jpg');">
                        <div class="clickable-overlay">
                            <a href="https://calendar.google.com/calendar/appointments/schedules/AcZssZ1pS98lJc9AnurRJsrrFELO8p7lFqT8SE5tpaJPiVixBHN83PpSWM4oqIfom2EAtwcVqooJYG7K?gv=true" target="_blank" class="court-link-zone" aria-label="Reservar Cancha CEC 1"><span class="zone-text">Reserva Cancha CEC 1</span></a>
                            <a href="https://calendar.google.com/calendar/appointments/schedules/AcZssZ1ijnDghWGh6GVpsD6Q76qxlJqEdDhj9E0MvboyNI_rTAkbn0JfXE3qFoYECfCMjyEPSGpaTRk4?gv=true" target="_blank" class="court-link-zone" aria-label="Reservar Cancha CEC 2"><span class="zone-text">Reserva Cancha CEC 2</span></a>
                        </div>
                    </div>
                </div>
                <div class="complex-wrapper">
                    <div class="complex-title">
                        <h2>Complejo CJP</h2>
                        <p>Canchas de Asfalto</p>
                    </div>
                    <div class="complex-card" style="background-image: url('cjp.jpg');">
                        <div class="clickable-overlay">
                            <a href="https://calendar.google.com/calendar/appointments/schedules/AcZssZ1GpWHQQiPLKIG7X4TDDUcngRRUAB6Dbo-xM-Ponh2IWTxNwwFnT74l71-bL-toFqDC6b0mAhhu?gv=true" target="_blank" class="court-link-zone" aria-label="Reservar Cancha CJP 1"><span class="zone-text">Reserva Cancha CJP 1</span></a>
                            <a href="https://calendar.google.com/calendar/appointments/schedules/AcZssZ23FAuAAPtwBFxJUeCMMAKAQlZTRGMrX3JGA8s3b0Rl9TOj0du1cb6m1cin96U30DfFV03piwMA?gv=true" target="_blank" class="court-link-zone" aria-label="Reservar Cancha CJP 2"><span class="zone-text">Reserva Cancha CJP 2</span></a>
                        </div>
                    </div>
                </div>
            </div>
            <section class="info-section">
                <h2 class="section-title">PronÃ³stico del Tiempo en Temuco</h2>
                <p class="smart-suggestion" id="smartSuggestion">Analizando el mejor momento para jugar...</p>
                <div class="forecast-container" id="forecast"></div>
            </section>
        </main>
        <footer>
            <div class="tennis-message" id="tennisMessage">Generando frase motivacional...</div>
            <div class="footer-links"><a href="normas.html">Normas de Uso</a></div>
            <div class="small-note">Al finalizar el juego en arcilla pasa el escobillÃ³n, barre las lÃ­neas y riega la cancha para mantenerla en Ã³ptimas condiciones. Â¡Ocupa los basureros! Solo se permite una reserva diaria por socio. Â¡Gracias!</div>
        </footer>
    </div>
    <script>
        const todayElement = document.getElementById('dateToday');
        const today = new Date();
        todayElement.textContent = today.toLocaleDateString('es-ES', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
        const LAT = -38.7359;
        const LON = -72.5904;
        const members = ["Luis Otth", "Ismael Devia", "Roberto Bermudez", "Roberto Espinoza", "Pablo Lagos", "Francisco Encina", "Gustavo Curaqueo", "Cristian Henriquez", "Cristian Rebolledo", "SebastiÃ¡n Garrido", "Rodrigo Castro", "MatÃ­as CÃ¡ceres", "Juan MaripillÃ¡n", "David Figueroa", "David Silva", "David Fonseca", "Cristian Farias", "Jaime Castillo", "JosÃ© Baeza", "JosÃ© Melgarejo", "Miguel Escalona", "Rodrigo ZuÃ±iga", "Francisco MuÃ±oz", "Sebastian Aguilar", "Victor Navarrete", "Cristobal Correa", "Jano Medina", "Miguel Angulo", "Carolina CÃ¡rdenas", "Mauricio Matus", "AngÃ©lica Encina", "Maria JosÃ©", "Francisco Mendez", "Violeta Moreno", "Valeria Schatter"];
        const motivationalMessages = ["Â¡Hoy es tu dÃ­a para brillar en la cancha!", "No hay nada mejor que el sol para llenarnos de energÃ­a. Â¡Vamos a jugar!", "El clima estÃ¡ perfecto, no hay excusas. Â¡Dale con todo!", "Â¡Vamos a aprovechar el buen tiempo y mejorar ese revÃ©s!", "El sol brilla tanto como tu determinaciÃ³n. Â¡A la cancha!", "Un dÃ­a nublado significa menos calor. Â¡Perfecto para entrenar sin parar!", "Hoy el clima estÃ¡ ideal para practicar tus saques. Â¡Hazlo valer!", "No hay mejor clima para mejorar tu tÃ©cnica. Â¡Aprovecha!", "El sol estÃ¡ contigo, igual que tu pasiÃ³n por el tenis. Â¡Vamos!", "Nublado pero sin lluvia, Â¡una razÃ³n mÃ¡s para no detenerse!", "Nada mejor que un dÃ­a soleado para mostrar de quÃ© estÃ¡s hecho.", "El clima perfecto para esos rallies largos. Â¡Vamos a practicar!", "Con este clima, cada punto cuenta. Â¡Vamos con todo!", "Hoy toca darle fuerte, el clima estÃ¡ de nuestro lado.", "Aprovecha este dÃ­a sin lluvia para dar lo mejor de ti.", "Hoy el sol estÃ¡ para acompaÃ±arte a mejorar. Â¡A la cancha!", "El clima no podrÃ­a ser mejor, Â¡a aprovechar cada minuto!", "La victoria estÃ¡ en tu mente antes de estar en la cancha.", "El tenis es 90% mental y 10% evitar tropezar con la lÃ­nea blanca.", "Si pierdes el partido, al menos no pierdas la compostura. Bueno, tal vez un poco.", "Â¡No culpes a la raqueta! Ella estÃ¡ haciendo lo mejor que puede.", "Hoy no se trata de ganar, se trata de no romper otra cuerda.", "Si no puedes ganar el punto, al menos haz que tu rival sude por Ã©l.", "Â¿Hoy vienes a jugar o a dar un curso de errores no forzados?", "Recuerda, el tenis es como la vida: a veces solo intentas no hacer el ridÃ­culo.", "Â¡Gran saque! LÃ¡stima que fue fuera por medio metro.", "Siempre dicen que el esfuerzo lo es todo. Bueno, hoy lo intentaste.", "Tu revÃ©s tiene un 50% de probabilidades de ir a la red... optimismo, Â¿no?", "Un dÃ­a sin tenis es un dÃ­a perdido. Â¡A la cancha!", "Con cada golpe, estÃ¡s mÃ¡s cerca de la perfecciÃ³n. Â¡Sigue asÃ­!", "Tu mayor rival no estÃ¡ del otro lado de la red, sino en tu mente. Â¡VÃ©ncelo!", "El clima es perfecto, igual que tu determinaciÃ³n. Â¡Dale!", "El Ã©xito es 1% inspiraciÃ³n y 99% transpiraciÃ³n... Â¡y hoy toca sudar!", "El tenis es el Ãºnico deporte donde puedes discutir contigo mismo y perder.", "Si la pelota va hacia ti, Â¡corre! Es una pista, no una selfie.", "La raqueta estÃ¡ en tus manos, pero la magia viene del cafÃ© que tomaste antes.", "Hoy no jugamos para ganar, sino para demostrar que sabemos correr.", "Tu saque es tan rÃ¡pido que ni tÃº sabes a dÃ³nde va... Â¡sorpresa!", "Eres mas malo que el presidente del club.", "cuidado que los mutantes estan ganando todo!", "no robes puntos como Melgarejo!","tambien fuiste atendido por el \"nana vieja\"?"];
        function getWeatherIcon(wmoCode) { const icons = { 0: "â˜€ï¸", 1: "ðŸŒ¤ï¸", 2: "â›…", 3: "â˜ï¸", 45: "ðŸŒ«ï¸", 48: "ðŸŒ«ï¸", 51: "ðŸŒ¦ï¸", 53: "ðŸŒ¦ï¸", 55: "ðŸŒ¦ï¸", 61: "ðŸŒ§ï¸", 63: "ðŸŒ§ï¸", 65: "ðŸŒ§ï¸", 80: "â›ˆï¸", 81: "â›ˆï¸", 82: "â›ˆï¸" }; return icons[wmoCode] || "ðŸ¤·"; }
        function updateMotivationalMessage(dailyData = null) { const tennisMessageElement = document.getElementById('tennisMessage'); const currentDay = today.getDay(); const currentHour = today.getHours(); if (currentDay === 0) { tennisMessageElement.textContent = "Las canchas estÃ¡n cerradas los domingos. Aprovecha para descansar y planificar tu prÃ³xima semana de juego."; return; } let rainProbability = 0; if (dailyData) { rainProbability = dailyData.precipitation_probability_max[0]; } if (currentHour >= 7 && currentHour <= 23) { const randomMember = members[Math.floor(Math.random() * members.length)]; const randomMessage = motivationalMessages[Math.floor(Math.random() * motivationalMessages.length)]; if (rainProbability > 70) { tennisMessageElement.textContent = `${randomMember}, hoy llueve mucho y las canchas no estÃ¡n en condiciones. Es mejor evitar el riesgo de resbalar.`; } else { tennisMessageElement.textContent = `${randomMember}, ${randomMessage}`; } } else { tennisMessageElement.textContent = "Las canchas estÃ¡n cerradas. Â¡Vuelve maÃ±ana para mÃ¡s tenis!"; } }
        async function fetchWeather() { const forecastDiv = document.getElementById('forecast'); const suggestionEl = document.getElementById('smartSuggestion'); const URL = `https://api.open-meteo.com/v1/forecast?latitude=${LAT}&longitude=${LON}&daily=weathercode,temperature_2m_max,temperature_2m_min,precipitation_probability_max&hourly=precipitation_probability&timezone=America/Santiago`; let dailyData = null; try { const response = await fetch(URL); if (!response.ok) throw new Error(`Error de red: ${response.statusText}`); const data = await response.json(); dailyData = data.daily; forecastDiv.innerHTML = ""; for (let i = 0; i < dailyData.time.length; i++) { const date = new Date(dailyData.time[i] + 'T00:00:00'); const dayString = new Intl.DateTimeFormat('es-ES', { weekday: 'short' }).format(date).replace(/^\w/, c => c.toUpperCase()); const icon = getWeatherIcon(dailyData.weathercode[i]); forecastDiv.innerHTML += `<div class="forecast-day"><span>${dayString}</span><div class="weather-icon-emoji">${icon}</div><span>MÃ¡x: ${Math.round(dailyData.temperature_2m_max[i])}Â°C</span><span>MÃ­n: ${Math.round(dailyData.temperature_2m_min[i])}Â°C</span><span>${dailyData.precipitation_probability_max[i]}% lluvia</span></div>`; } const hourlyData = data.hourly; let bestTimeFound = false; for (let i = 0; i < hourlyData.time.length; i++) { const hourDate = new Date(hourlyData.time[i]); if (!bestTimeFound && hourDate > today) { if (hourDate.getHours() >= 8 && hourDate.getHours() <= 21 && hourlyData.precipitation_probability[i] < 15) { const hourString = new Intl.DateTimeFormat('es-ES', { hour: '2-digit', minute: '2-digit', hour12: false }).format(hourDate); suggestionEl.textContent = `Sugerencia: Â¡El mejor momento para jugar hoy es alrededor de las ${hourString} hrs!`; bestTimeFound = true; } } } if (!bestTimeFound) { suggestionEl.textContent = "Hoy el clima no acompaÃ±a, revisa el pronÃ³stico detallado."; } } catch (error) { console.error("Error al cargar el clima:", error); suggestionEl.textContent = "No se pudo cargar la informaciÃ³n del clima."; forecastDiv.innerHTML = "<p>El pronÃ³stico no estÃ¡ disponible.</p>"; } finally { updateMotivationalMessage(dailyData); } }
        fetchWeather(); setInterval(fetchWeather, 60 * 60 * 1000);
    </script>
    
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').then(registration => {
            console.log('SW registrado: ', registration);
          }).catch(registrationError => {
            console.log('SW registro fallÃ³: ', registrationError);
          });
        });
      }
    </script>
</body>
</html>
